
/* Createing the table to store user information */

CREATE TABLE public."USERS"
(
   "ID" serial PRIMARY KEY, 
   "EMAIL" character varying(254) NOT NULL UNIQUE, 
   "PASSWORD" character varying(255) NOT NULL, 
   "FIRST_NAME" character varying(50) NOT NULL, 
   "LAST_NAME" character varying(50), 
   "LAST_SEEN" timestamp with time zone NOT NULL DEFAULT CURRENT_DATE
) 
WITH (
  OIDS = FALSE
)
;


/* Altering the default value of a column */

ALTER TABLE public."USERS" 
ALTER "LAST_SEEN" SET DEFAULT NOW();


/* Session table query */

CREATE TABLE public."SESSIONS"
(
  "SID" character(20) NOT NULL PRIMARY KEY,
  "USER" int NULL NULL REFERENCES public."USERS"("ID")
)

/*  Calender table query */

CREATE TABLE public."CALENDER"
(
   "ID" serial NOT NULL PRIMARY KEY, 
   "NAME" character varying(50) NOT NULL,
   "CREATOR" int REFERENCES public."USERS"("ID"), 
   "CREATED" timestamp without time zone NOT NULL, 
   "JOIN_ENABLED" boolean NOT NULL DEFAULT true, 
   "JOIN_CODE" character(6)
) 
WITH (
  OIDS = FALSE
)
;

/* Event table */

CREATE TABLE public."EVENTS"
(
   "EID" serial PRIMARY KEY, 
   "TITLE" character varying(100) NOT NULL, 
   "DESCRIPTION" character varying(255) NOT NULL, 
   "LOCATION" character varying(255) NOT NULL, 
   "DATE" date NOT NULL, 
   "TIME" time with time zone,
   "DURATION" interval,
   "ATTENDEES" int[],
   "MAX_ATTENDEES" int,
   "ACTIVE" boolean NOT NULL
) 
WITH (
  OIDS = FALSE
)
;




